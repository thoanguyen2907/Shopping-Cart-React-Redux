{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Desktop/React Zendvn/Chapter 4/cart practice 4/my-app/src/components/CartItem.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Helpers from './../libs/Helpers';\nimport * as configs from './../constants/Config';\nimport Validate from './../libs/Validate';\nimport { actRemoveProduct, actChangeNotify, actUpdateProduct } from './../actions/index';\n\nclass CartItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  onDelete(id) {\n    this.props.onDelete(id);\n    this.props.changeNotify(configs.NOTI_ACT_DELETE);\n  }\n\n  handleEdit(product, quantity) {\n    if (Validate.checkQuantity(quantity) === false) {\n      this.props.changeNotify(configs.NOTI_GREATER_THAN_ONE);\n    } else {\n      this.props.handleEdit(product, +quantity);\n      this.props.changeNotify(configs.NOTI_ACT_UPDATE);\n    }\n  }\n\n  render() {\n    let {\n      item,\n      index\n    } = this.props;\n    let {\n      product\n    } = item;\n    let quantity = this.state.value !== 0 ? this.state.value : item.quantity;\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, index + 1), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, product.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, product.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"value\",\n      value: quantity,\n      onChange: this.handleChange,\n      type: \"number\",\n      min: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.showSubTotal(product.price, quantity))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: () => this.handleEdit(product, quantity),\n      className: \"label label-info update-cart-item\",\n      href: \"#\",\n      \"data-product\": true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Update\"), React.createElement(\"a\", {\n      onClick: () => this.onDelete(product.id),\n      className: \"label label-danger delete-cart-item\",\n      href: \"#\",\n      \"data-product\": true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Delete\")));\n  }\n\n  showSubTotal(price, quantity) {\n    return Helpers.toCurrency(price * quantity, \"USD\", \"right\");\n  }\n\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    onDelete: id => {\n      dispatch(actRemoveProduct(id));\n    },\n    changeNotify: content => {\n      dispatch(actChangeNotify(content));\n    },\n    handleEdit: (product, quantity) => {\n      dispatch(actUpdateProduct(product, quantity));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(CartItem);","map":{"version":3,"sources":["/Users/thoanguyen/Desktop/React Zendvn/Chapter 4/cart practice 4/my-app/src/components/CartItem.js"],"names":["React","Component","connect","Helpers","configs","Validate","actRemoveProduct","actChangeNotify","actUpdateProduct","CartItem","constructor","props","state","value","handleChange","bind","onDelete","handleEdit","event","setState","target","id","changeNotify","NOTI_ACT_DELETE","product","quantity","checkQuantity","NOTI_GREATER_THAN_ONE","NOTI_ACT_UPDATE","render","item","index","name","price","showSubTotal","toCurrency","mapDispatchToProps","dispatch","ownProps","content"],"mappings":"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","sourcesContent":["import React,{Component}from 'react';\nimport {connect} from 'react-redux';\nimport Helpers from './../libs/Helpers';\nimport * as configs from './../constants/Config';\nimport Validate from './../libs/Validate';\nimport {actRemoveProduct,actChangeNotify,actUpdateProduct} from './../actions/index'; \nclass CartItem extends Component {\n  constructor(props){\n    super(props);    \n    this.state={\n      value:0\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.handleEdit = this.handleEdit.bind(this)\n  }\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n  onDelete(id){\n    this.props.onDelete(id);\n    this.props.changeNotify(configs.NOTI_ACT_DELETE);\n  }\n  handleEdit(product,quantity){\n    if(Validate.checkQuantity(quantity)===false){\n      this.props.changeNotify(configs.NOTI_GREATER_THAN_ONE)\n    } else {\n    this.props.handleEdit(product,+quantity);\n    this.props.changeNotify(configs.NOTI_ACT_UPDATE);\n    }\n  }\n  render(){\n   let {item,index} = this.props; \n   let {product} = item; \n   let quantity =(this.state.value !==0)?this.state.value : item.quantity;\n    return (\n  <tr>\n                  <th scope=\"row\">{index+1}</th>\n                  <td>{product.name}</td>\n                  <td>{product.price}</td>\n                  <td><input name=\"value\" value={quantity} onChange={this.handleChange} type=\"number\" min={1}/></td>\n                  <td><strong>{this.showSubTotal(product.price,quantity)}</strong></td>\n                  <td>\n                    <a onClick={()=>this.handleEdit(product,quantity)} className=\"label label-info update-cart-item\" href=\"#\" data-product>Update</a>\n                    <a onClick={()=>this.onDelete(product.id)} className=\"label label-danger delete-cart-item\" href=\"#\" data-product>Delete</a>\n                  </td>\n  </tr>\n)\n\n}\nshowSubTotal(price,quantity){\n  return Helpers.toCurrency(price*quantity,\"USD\",\"right\")\n}\n}\nconst mapDispatchToProps = (dispatch,ownProps) => {\n  return {\n   onDelete: (id) => {\n     dispatch(actRemoveProduct(id))\n   },\n    changeNotify: (content) =>{\n      dispatch(actChangeNotify(content))\n    },\n    handleEdit: (product,quantity) => {\n      dispatch(actUpdateProduct(product,quantity))\n    }\n  }\n}\n\nexport default connect(null,mapDispatchToProps)(CartItem);\n\n"]},"metadata":{},"sourceType":"module"}