{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Desktop/ReactZendvn/Chapter 4/Shopping Cart/my-app/src/components/ProductItem.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Helpers from './../libs/Helpers';\nimport Validate from './../libs/Validate';\nimport * as types from './../constants/ActionType';\nimport * as config from './../constants/Config';\nimport { actBuyProduct, actChangeNotify } from './../actions/index';\n\nclass ProductItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 1\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBuy = this.handleBuy.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleBuy(product, quantity) {\n    quantity = +this.state.value;\n\n    if (Validate.checkQuantity(quantity) === false) {\n      this.props.changeNotify(config.NOTI_GREATER_THAN_ONE);\n    } else {\n      this.props.handleBuy(product, quantity);\n      this.props.changeNotify(config.NOTI_ACT_ADD);\n      this.setState({\n        value: 1\n      });\n    }\n  }\n\n  render() {\n    let {\n      product\n    } = this.props;\n    let quantity = this.state.value;\n    return React.createElement(\"div\", {\n      className: \"media product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"media-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"media-object\",\n      src: `images/${product.image}`,\n      alt: \"{product.name}\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"media-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"media-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, product.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, product.summary), this.showBuy(product)));\n  }\n\n  showBuy(product) {\n    let xhml = null;\n    let price = Helpers.toCurrency(product.price, \"USD\", \"right\");\n    let quantity = this.state.value;\n\n    if (product.canBuy === true) {\n      xhml = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"value\",\n        value: this.state.value,\n        onChange: this.handleChange,\n        type: \"number\",\n        min: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        onClick: () => this.handleBuy(product, quantity),\n        href: \"#\",\n        className: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \" \", price, \" \"));\n    } else {\n      xhml = React.createElement(\"span\", {\n        className: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" \", price, \" \");\n    }\n\n    return xhml;\n  }\n\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    handleBuy: (product, quantity) => {\n      dispatch(actBuyProduct(product, quantity));\n    },\n    changeNotify: content => {\n      dispatch(actChangeNotify(content));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ProductItem);","map":{"version":3,"sources":["/Users/thoanguyen/Desktop/ReactZendvn/Chapter 4/Shopping Cart/my-app/src/components/ProductItem.js"],"names":["React","Component","connect","Helpers","Validate","types","config","actBuyProduct","actChangeNotify","ProductItem","constructor","props","state","value","handleChange","bind","handleBuy","event","setState","target","product","quantity","checkQuantity","changeNotify","NOTI_GREATER_THAN_ONE","NOTI_ACT_ADD","render","image","name","summary","showBuy","xhml","price","toCurrency","canBuy","mapDispatchToProps","dispatch","ownProps","content"],"mappings":"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","sourcesContent":["import React,{Component}from 'react';\nimport {connect} from 'react-redux'; \nimport Helpers from './../libs/Helpers'; \nimport Validate from './../libs/Validate'; \nimport * as types from './../constants/ActionType';\nimport * as config from './../constants/Config';\nimport {actBuyProduct,actChangeNotify} from './../actions/index'; \nclass ProductItem extends Component {\n  constructor(props){\n    super(props); \n    this.state={\n      value:1\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBuy = this.handleBuy.bind(this);\n  }\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n  handleBuy(product,quantity){\n    quantity = +this.state.value; \n    if(Validate.checkQuantity(quantity)===false){\n     this.props.changeNotify(config.NOTI_GREATER_THAN_ONE);\n    } else {\n      this.props.handleBuy(product,quantity);\n      this.props.changeNotify(config.NOTI_ACT_ADD);\n      this.setState({\n      value:1\n    })}    \n  }\n  render(){\n   let {product} = this.props;\n   let quantity = this.state.value;\n    return (\n  \n\t<div className=\"media product\">\n              <div className=\"media-left\">\n                <a href=\"#\">\n                  <img className=\"media-object\" src={`images/${product.image}`} alt= \"{product.name}\" />\n                </a>\n              </div>\n              <div className=\"media-body\">\n                <h4 className=\"media-heading\">{product.name}</h4>\n                <p>{product.summary}</p>\n                 {this.showBuy(product)}\n              </div>\n            </div>\n\n)}\nshowBuy(product){\n  let xhml = null; \n  let price = Helpers.toCurrency(product.price,\"USD\",\"right\")\n   let quantity = this.state.value; \n  if(product.canBuy===true){\n    xhml = <p>\n            <input name=\"value\" value={this.state.value} onChange={this.handleChange} type=\"number\" min={1} />\n                <a onClick={()=>this.handleBuy(product,quantity)} href=\"#\" className=\"price\"> {price} </a>\n            </p>\n  } else{\n      xhml = <span className=\"price\"> {price} </span>\n  }\n  return xhml\n}}\nconst mapDispatchToProps = (dispatch,ownProps) => {\n  return {\n   handleBuy: (product,quantity) => {\n     dispatch(actBuyProduct(product,quantity))\n   },\n    changeNotify: (content) =>{\n      dispatch(actChangeNotify(content))\n    }}}\nexport default connect(null,mapDispatchToProps)(ProductItem);\n "]},"metadata":{},"sourceType":"module"}